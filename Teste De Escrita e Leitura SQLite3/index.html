<!DOCTYPE html>
<html>
	<head>
		<title>Teste SQLite3 e Node.js express</title>
	</head>
	
	<body>
		<h1></h1>
		
		<form action="http://localhost:8080/data" method="post">
		Insira o seu nome:
		<input type="text" name="name" id="name"></input><br>
		Insira a sua idade:
		<input type="number" name="idade" id="idade"></input><br>
		<input type="submit" value="submit">Enviar os dados via formulario</input>
		</form>
		
		<button onclick="salva()">Enviar os dados via JS</button>
		<br>
		<button onclick="abrir()">Ver Banco de Dados</button>
		
		<div id="mostra"></div>
		
		<script>
			function salva() {
				var n = document.getElementById('name').value;
				var i = document.getElementById('idade').value;
				var xhttp = new XMLHttpRequest();
				
				xhttp.open("POST", "http://localhost:8080/save", true);
				xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				xhttp.send("name=" + n + "&idade=" + i);
				
				document.getElementById('nome').value = '';	//aparentemente isso não está fazendo efeito nenhum
				document.getElementById('idade').value = '';
			}
			
			function abrir() {
				window.open("http://localhost:8080/read");
			}
		</script>
	</body>
</html>